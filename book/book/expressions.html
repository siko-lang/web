<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Expressions - The Siko programming language</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="reference.html"><strong aria-hidden="true">2.</strong> Language reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">2.1.</strong> Modules</a></li><li class="chapter-item expanded "><a href="data_types.html"><strong aria-hidden="true">2.2.</strong> Data types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="adt.html"><strong aria-hidden="true">2.2.1.</strong> Algebraic data types</a></li><li class="chapter-item expanded "><a href="record.html"><strong aria-hidden="true">2.2.2.</strong> Records</a></li></ol></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">2.3.</strong> Functions</a></li><li class="chapter-item expanded "><a href="expressions.html" class="active"><strong aria-hidden="true">2.4.</strong> Expressions</a></li><li class="chapter-item expanded "><a href="type_classes.html"><strong aria-hidden="true">2.5.</strong> Type classes</a></li><li class="chapter-item expanded "><a href="effects.html"><strong aria-hidden="true">2.6.</strong> Effects</a></li></ol></li><li class="chapter-item expanded "><a href="memory.html"><strong aria-hidden="true">3.</strong> Memory management</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Siko programming language</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="expressions"><a class="header" href="#expressions">Expressions</a></h1>
<p>The body of a function is an expression that is evaluated when the function is called and the value of the expression is the return value of the function.</p>
<h3 id="expressions-1"><a class="header" href="#expressions-1">Expressions</a></h3>
<h4 id="do"><a class="header" href="#do">do</a></h4>
<pre><code class="language-Siko">
foo = do
    msg &lt;- &quot;Hello world&quot;
    println msg

</code></pre>
<p>The <code>do</code> expression is a syntactic equivalent of a normal imperative block. It starts with the <code>do</code> keyword and contains one or more expressions which are evaluated in order. Additionally, <code>do</code> blocks also provide scoping for name bindings. The return value of a <code>do</code> block is the value of the last expression in the block.</p>
<h4 id="bind"><a class="header" href="#bind">bind</a></h4>
<pre><code class="language-Siko">
foo = do
    (a, b) &lt;- (1, 'a')

</code></pre>
<p>The bind expression binds the value of the expression on the right hand side to the pattern on the left hand side and they are separated by the <code>&lt;-</code> symbol. Only irrefutable patterns are allowed in bind expressions. The return value of a bind expression is <code>()</code>.</p>
<h3 id="function-application"><a class="header" href="#function-application">function application</a></h3>
<p>The function application expression calls a function with the given arguments, evaluating to the return value of the function call.</p>
<pre><code class="language-Siko">
id a = a

foo = id 1

</code></pre>
<p>Functions are curried, partial function application has no special syntax.</p>
<pre><code class="language-Siko">
adder a b = a + b

foo = do
    f &lt;- adder 1
    res &lt;- f 2

</code></pre>
<h3 id="literals"><a class="header" href="#literals">literals</a></h3>
<pre><code class="language-Siko">
literals = do
    i1 &lt;- -1
    i2 &lt;- 123
    pi &lt;- 3.14
    msg &lt;- &quot;Hello world&quot;
    char &lt;- 'a'
    tuple &lt;- (i1, '4', (&quot;another&quot;,), ())

</code></pre>
<h3 id="if"><a class="header" href="#if">if</a></h3>
<p>The <code>if</code> expression can be used to create conditional expressions, the <code>else</code> block is always required. The <code>if</code> expression evaluates either the true branch or the false branch and returns the value of the selected branch.</p>
<pre><code class="language-Siko">
isLarge n = if n &gt; 10 then True else False

</code></pre>
<h3 id="case"><a class="header" href="#case">case</a></h3>
<p>The <code>case</code> expression is used for pattern matching on values. The <code>case</code> expression evaluates the first branch that matches the value and returns the value of the expression in the selected branch.</p>
<pre><code class="language-Siko">
isLarge n = case n of
    1 -&gt; False
    n if n &lt;= 10 -&gt; False
    _ -&gt; True

</code></pre>
<h3 id="record-field-access"><a class="header" href="#record-field-access">record field access</a></h3>
<p>To access a field of a record, use a <code>.</code> followed by the name of the field. The value of the record field access expression is the value of the field.</p>
<pre><code class="language-Siko">
data Person = { name :: String, age :: Int }

getAge :: Person -&gt; Int
getAge p = p.age

</code></pre>
<h3 id="tuple-field-access"><a class="header" href="#tuple-field-access">tuple field access</a></h3>
<p>To access a field of a tuple, use a <code>.</code> followed by the index of the field. The value of the tuple field access expression is the value of the field.</p>
<pre><code class="language-Siko">
second a b :: (a, b) -&gt; b
second t = t.1

</code></pre>
<h3 id="lambda"><a class="header" href="#lambda">lambda</a></h3>
<p>The lambda expression is an unnamed function definition that evaluates to a function. The lambda expression starts with a <code>\</code> followed by the
lambda arguments then a <code>-&gt;</code> followed by an expression that is the body of the lambda function.</p>
<pre><code class="language-Siko">
test = do
    f &lt;- \x, y -&gt; x + y
    f 2 3

</code></pre>
<h3 id="return"><a class="header" href="#return">return</a></h3>
<p>The <code>return</code> expression stops the execution of the current function and returns the value of the expression given as the argument.</p>
<pre><code class="language-Siko">
test = return ()

</code></pre>
<h3 id="loop"><a class="header" href="#loop">loop</a></h3>
<p>The <code>loop</code> expression resembles an imperative loop. It has a pattern, an initializer expression and a body.
The loop is started by evaluating the initializer expression, its value is then matched with the given pattern and then the body is executed once. After the execution, the value of the body is matched with the given pattern and the body is executed again, forever.</p>
<pre><code class="language-Siko">
loopTest =
    loop index &lt;- 1 do
        print &quot;Cycle count {}&quot; % index
        index + 1
</code></pre>
<h3 id="break"><a class="header" href="#break">break</a></h3>
<p>The <code>break</code> expression jumps out of the current <code>loop</code> and the return value of the loop will be the value of the expression given as the argument of break.</p>
<pre><code class="language-Siko">
loopTest = loop index &lt;- 1 do
        print &quot;Cycle count {}&quot; % index
        if index &gt; 10
            then break ()
            else index + 1
</code></pre>
<h3 id="continue"><a class="header" href="#continue">continue</a></h3>
<p>The <code>continue</code> expression jumps out of the current <code>loop</code> body and the loop's current value will be the value of the expression given as the argument of continue.</p>
<pre><code class="language-Siko">
loopTest = loop index &lt;- 1 do
        print &quot;Cycle count {}&quot; % index
        if index &gt; 10
            then continue 0
            else index + 1
</code></pre>
<h3 id="try"><a class="header" href="#try">try</a></h3>
<p>The <code>try</code> expression evaluates its argument and 'unwraps' it, in case of failure the value is returned. It is currently sugar for a simple case.</p>
<pre><code>    ok_value &lt;- try fallibleOperation

    ok_value &lt;- case fallibleOperation of
        Ok v -&gt; v
        Err e -&gt; return e
</code></pre>
<h3 id="patterns"><a class="header" href="#patterns">Patterns</a></h3>
<p>#TODO</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="functions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="type_classes.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="functions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="type_classes.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="src/custom-highlight.js"></script>


    </body>
</html>
